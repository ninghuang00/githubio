---
title: 日常小坑记录
categories:
  - 教程
tags:
  - mac
date: 2018-07-08 15:21:12
---
 日常琐碎的小问题
 <!-- more -->


# 关于从HTTPServletRequest中获取请求体
`request.getInputStream()`,`request.getReader()`,`request.getParameter(“key”)`这三个函数中任何一个函数执行一次后（可正常读取body数据），之后再执行就无效了。
比如说
```java
public class DemoController{
  @Autowired
  HttpServletRequest request;

  @RequestMapping(value = "/post", method = RequestMethod.POST)
  public String addApples(@RequestBody String json) {
    //这里使用注解获取了RequestBody
    //那么之后从request.getInputStream()或者request.getReader()获取的流就是空的
  }
}
```

# postman使用
抛出的异常:
```
missingservletrequestparameterexception required string parameter 'username' is not present
```
如果后台使用`@RequestBody`和`@RequestParam`注解接受参数的话,postman中需要使用`x-www-form-urlencoded`类型的请求体

# SpringMVC
报错:
`Spring Boot RestController Error: “No converter found for return value of type”`
可能原因:
1. 返回的类没有getter()方法

# Mybatis
报错:
```
org.apache.ibatis.binding.BindingException: Invalid bound statement (not found):
```
可能原因:
1. mapper.xml文件没有复制到classpath,或者是扫描路径配置错误
```
mybatis:
  type-aliases-package: com.hn.model
  mapper-locations: classpath:com/hn/mapper/dao/*.xml
```

# docker
## 容器启动成功后马上退出
1. docker部署redis,使用自定义配置文件启动redis容器,立马就关闭,原因是参数中的daemonize设置成了yes

# spring配置
## 整合Mybatis
1. 配置通用Mapper插件的时候,父类Mapper要放在启动类扫面不到的地方,即不在`@MapperScan(basePackages = "com.hn.mapper")`所在路径下
报错:
```
Field userDao in com.hn.service.impl.UserServiceImpl required a bean of type 'com.hn.dao.UserDao' that could not be found.
```
```java
@SpringBootApplication
@MapperScan(basePackages = "com.hn.mapper")
public class Application {
    public static void main(String[] args) {
        SpringApplication.run(Application.class, args);
    }
}
```



# mac终端git中文显示的问题
{% asset_img mac终端git中文显示异常.png %}
* 可以在终端中执行以下命令解决
	`git config --global core.quotepath false`
* 或者oh-my-zsh的话
	1. 打开oh-my-zsh配置文件 `~/.zshrc` 
	2. 在文件最后面添加如下代码：
```sh 
export LC_ALL=en_US.UTF-8
export LANG=en_US.UTF-8
```
	3. 重启下终端（terminal）或输入 `source ~/.zshrc`
