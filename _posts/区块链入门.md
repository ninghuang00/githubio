---
title: 区块链入门
categories:
  - 笔记
tags:
  - 区块链
date: 2018-10-20 13:09:34
---
 这是摘要
 <!-- more -->

## 区块链的技术体系
{% asset_img 区块链的技术体系.png %}


## 技术的优点
### 去中心化
避免垄断,点对点交易,一定程度上的去代理
### 数据公开
无暗箱操作,平等性,开放生态系统
### 可信
数据永久可靠,记录可信
1. 信任体系
2. 价值传递体系


## 现阶段存在的问题
1. 性能问题
处理速度慢,吞吐量小
2. 隐私保护问题
每个节点都能获得全网络的交易信息
3. 扩展性问题
不同区块链之间的数据难以互通
4. 安全问题
缺少形式化验证等辅助开发工具,编写的共识机制,智能合约可能会有漏洞
5. 监管问题
对于非法交易难以监管,即时发现了,也不知道是谁

## 区块链产品形态剖析
### 区块链产品概览
1. 底层平台
	1. 公有链
		1. 相关概念
		世界上的所有人都能参与,每个人都能作为区块链中的一个节点参与记账,通常通过激励机制和加密数字验证相结合的方式,来实现交易的共识.
			* 激励机制:(pow(工作量证明),pos(),dpos())
			在公有链中,节点越多越安全,是什么让更多的人愿意成为节点,
			* 加密数字验证:
			* 共识机制:
			大家都能认可的激励和分配激励的方式,比如人类社会中的黄金,总量一定,能伪造
			* 分布式账本:
			* 去中心化:
		2. 公有链产品
			1. 比特币
			基于POW的公式算法数字货币,几笔/秒 
			2. 以太坊
			基于只能合约的可编程,性能提高到几百笔/秒
{% asset_img 区块链技术架构.png%}
	2. 私有链
	3. 联盟链
		1. 相关概念
			1. 部分去中心,多中心,高可用,高性能可编程,隐私保护上更有优势(不是所有人都能参与),
			2. 精简节点,是的性能提高,单位时间内能够确认的交易数量比公有链更多,更容易在现实场景中落地
			3. 联盟链有准入机制,可以支持国家安全标准,确保准入,指定监管规则符合监管要求,在可信安全的基础上提高交易速度
		2. 产品
			1. 趣链科技:Hyperchain
			2. IBM:Fabric
			3. 微众银行:BCOS
2. 开放平台
	1. Baas
		1. 相关概念
			* 通常是基于云服务的区块链开发平台
			* 可以快速部署,拥有去中心化信任机制,支持联盟链,私有链和多链
			* 支持私有化部署和丰富的运维管理能力
		2. 产品
			* 趣链:飞洛Philo开放平台
			* 腾讯:区块链BaaS开放平台
			* 华为:云区块链服务BCS
	2. 生态社区


3. 应用
{% asset_img 区块链应用场景.png %}
	1. 应用场景
		1. 医疗
		2. 能源
		3. 存证
		4. 金融
	2. 特点
		1. 与业务场景密切相关
		2. 具有可拓展性
		3. 容易形成价值网络	

### 区块链产品特点

## 如何打造一个区块链产品
### 岗位需求分析

### 区块链产品经理岗位解读
1. 区块链产品经理技能点
{% asset_img 区块链产品经理技能点.png %}
2. 知识储备(主要是名词概念)
{% asset_img 区块链产品经理知识储备.png %}

#### 区块链
* 交易:
每次对账本进行操作,导致账本状态发生的一次变化,就死一次交易.交易内容包括源账户,目的账户,调用的方法信息,是否共识,合约类型等
* 区块:
就是一段时间内产生的交易,状态结果等进行打包形成区块,区块和区块之间通过hash值进行关联形成了链式存储结构;
比如每500ms或者每500次交易生成一次区块;
一个区块包括区块编号,区块hash,父区块hsah,交易数量,写入时间等
* 链:
就是将区块按照生成顺序连接在一起形成的链式结构,账本状态变化的日志;
分为私有链,公有链和联盟链
* 打包:
将一定时间内产生的交易信息打包形成区块

* 公钥私钥
* 许可证书(LICENSE)
平台授予的,使用平台区块链的证书
* 证书
	* 根证书(RootCA) 所有Hyperchain发布的证书的根部证书

		* 准入证书(ECA) 由根证书颁布 用来颁布以下证书
			* SDK客户端准入证书(SDKCert) 由ECA颁布
			在SDK首次连接平台的过程中验证SDKCert的安全性,通过则可以获取TCert
			* 节点准入证书(ECert)
			用于控制区块链节点进入hyperchain
				* 交易证书(TCert) 由ECert颁布
				实现交易的相对匿名?
		* 角色证书(RCA) 用来发布以下证书
			* 节点角色证书(RCert)
			用于区分VP(validate peer)和NVP(nonvalidate peer)
			VP:就是区块链网络中参与共识验证的节点,可以读写
			NVP:不参与共识的节点,只能读取

* 签名验签:			
* 共识算法:
共识机制确定谁有记账的权利;
就是对交易进行验证,保证全网络的一致性;
由于区块链中每一个节点都可以记账,因此可能会产生好几个版本的账本,所以需要通过共识算法保证账本一致性(怎么保证)

* 节点:
可以理解成存储了全量账本信息的服务器,
* 命名空间
每个节点都有配置命名空间,配置了同一个命名空间的节点都在一条链上;
不同的链是物理隔离的,命名空间也不一样,他们之间无法直接通信;
* 增删节点
联盟链采用`3f+1`的共识机制,所以最少需要4个节点;
拜占庭问题,`3f+1`的意思是如果有`3f+1`个节点,可以容忍f个节点不可靠;

* 归档
就是将不会再在链上使用数据区块从链上移除并保存到本地机器的物理存储介质中,改变区块链的头区块
	* 区块链数据归档
	* 智能合约归档

#### 合约
* 冻结/解冻/升级
冻结就是禁止使用合约,解冻就是恢复使用,升级合约的时候要替换原来的合约代码,以及对应的bin和abi
* bin/abi
bin就是对应合约的二进制文件,abi的内容是合约中每个方法和方法入参,出参的对应关系

#### 开发
* sdk 
封装了调用底层区块链操作api的开发工具包,
* esdk
对上面说的那个sdk进行进一步封装的开发工具包,对上述api返回参数进行解析并包装成相应的java对象
* archetype
基于maven的项目骨架,主要集成了一些通用的开发模块,可以加速开发效率
* hypermvc
趣链自主研发的自动生成智能合约,用于快速开发区块链项目的ORM工具,用来将结构化的数据和操作转化成智能合约代码,

#### 数据库
* 数据库的作用
用来储存用户的私钥,

#### 相关瓶颈
* 性能瓶颈
主要影响环节:广播通信,信息加密解密,共识机制,交易验证机制
* 隐私保护
由于每一个节点上都保存了完整的账本信息,所以对用户的敏感信息要做好保护措施
* 私钥安全
私钥是用户唯一的凭证,如何防止私钥被盗用或者恶意删除,以及丢失后的补救措施
* 智能合约
如何有效检测智能合约的逻辑漏洞,实现可控的智能合约逻辑修正和升级

#### 智能合约 
{% post_link 智能合约入门 %}

	

### 技巧
1. 区块链白皮书
{% asset_img 区块链白皮书.png %}


## 案例分析
1. 典型的应用案例
	1. 供应链金融
	2. 电子存证
	3. 跨境汇款
	4. 电子发票
2. 思考
	1. 原场景中的传统痛点
	2. 如何应用区块链技术解决
	3. 如何将区块链技术嵌入业务场景
	4. 还有什么场景适合使用区块链技术解决 
3. 几个案例
	1. 电子存证
		1. 哈希运算
		将需要存证的文件(电子合同,图片,著作,视频等),通过哈希运算,生成与原文件唯一对应的摘要信息,作为原数据的"数据指纹"
		2. 私钥签名
		利用非对称加密技术,将交易发起方发起的交易(到底啥是交易?)经过秘私钥签名后,发送到区块链网络
		3. 交易写入区块链
		通过共识算法将交易信息打包,然后同步到全网络的其他节点
		4. 出具鉴定报告
		对接国家背书的司法鉴定中心和公证处,快速出具司法鉴定报告和公证书,确保存证数据的法律效力
	2. 存证的校验
		1. 将原文件哈希或者交易哈希传入,平台自动比对是否存在相同哈希
		2. 可以查看该交易的区块链特征数据,比如区块高度,区块哈希,交易发起者的公钥地址








