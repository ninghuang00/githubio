---
title: 阻塞队列
categories:
  - 笔记
tags:
  - 阻塞队列
  - 生产者消费者模式
date: 2018-08-16 21:46:03
---
 参考地址:http://ifeve.com/java-blocking-queue/
 <!-- more -->
 
 ### SynchronousQueue
 1. 一个不存储元素的阻塞队列。每个插入操作必须等到另一个线程调用移除操作，否则插入操作一直处于阻塞状态，吞吐量通常要高于LinkedBlockingQueue
 2. 信号量实现方式
 ```java
public class SemaphoreSynchronousQueue<E> {
    E item = null;
    Semaphore sync = new Semaphore(0);
    Semaphore send = new Semaphore(1);
    Semaphore recv = new Semaphore(0);

    public E take() throws InterruptedException {
        recv.acquire();
        E x = item;
        sync.release();
        send.release();
        return x;
    }

    public void put (E x) throws InterruptedException{
        send.acquire(); //当放入元素的时候信号量减1,其他线程想要再放入,就会阻塞
        item = x;
        recv.release();
        sync.acquire();
    }
}
```

### LinkedBlockingQueue
